import{r as e,p as r,q as i,w as a,B as s,t as h,P as n}from"./vendor.62143b15.js";const p={class:"markdown-body"},u=s("p",null,[n("By default, Directus will read the "),s("code",null,".env"),n(" file located next to your project\u2019s "),s("code",null,"package.json"),n(" for it\u2019s config. You can change the path where this file is read from, including the filename, by setting the "),s("code",null,"CONFIG_PATH"),n(" environment variable before starting Directus.")],-1),f=s("p",null,[n("For example: "),s("code",null,'CONFIG_PATH="/path/to/config.js" npx directus start')],-1),_=s("p",null,"The config file can be one of the following formats:",-1),d=s("p",null,[s("div",{class:"table-of-contents"},[s("ul",null,[s("li",null,[s("a",{href:"#.env"},".env")]),s("li",null,[s("a",{href:"#config.json"},"config.json")]),s("li",null,[s("a",{href:"#config.yaml"},"config.yaml")]),s("li",null,[s("a",{href:"#config.js"},"config.js")])])])],-1),j={class:"tip hint"},g=s("div",{class:"hint-title"},"Configuration Parameters",-1),m=n("See "),v=n("Environment Variables"),b=n(" for an overview of all available environment variables."),y=s("h2",{id:".env"},[n(".env "),s("a",{class:"header-anchor",href:"#.env"},"#")],-1),T=s("p",null,"If the config path has no file extension, or a file extension that\u2019s not one of the other supported formats, Directus will try reading the file config path as environment variables. This has the following structure:",-1),O=s("pre",null,[s("code",null,`PORT=8055

DB_CLIENT="pg"
DB_HOST="localhost"
DB_PORT=5432

etc
`)],-1),B=s("h2",{id:"config.json"},[n("config.json "),s("a",{class:"header-anchor",href:"#config.json"},"#")],-1),D=s("p",null,"If you prefer a single JSON file for all your configuration, create a JSON file with the environment variables as keys, for example:",-1),w=s("pre",null,[s("code",null,`CONFIG_PATH="/path/to/config.json"
`)],-1),P=s("pre",null,[s("code",{class:"language-json"},[n(`{
	`),s("span",{class:"hljs-attr"},'"PORT"'),n(": "),s("span",{class:"hljs-number"},"8055"),n(`,

	`),s("span",{class:"hljs-attr"},'"DB_CLIENT"'),n(": "),s("span",{class:"hljs-string"},'"pg"'),n(`,
	`),s("span",{class:"hljs-attr"},'"DB_HOST"'),n(": "),s("span",{class:"hljs-string"},'"localhost"'),n(`,
	`),s("span",{class:"hljs-attr"},'"DB_PORT"'),n(": "),s("span",{class:"hljs-number"},"5432"),n(`

	`),s("span",{class:"hljs-comment"},"// etc"),n(`
}
`)])],-1),N=s("h2",{id:"config.yaml"},[n("config.yaml "),s("a",{class:"header-anchor",href:"#config.yaml"},"#")],-1),x=s("p",null,[n("Similar to JSON, you can use a "),s("code",null,".yaml"),n(" (or "),s("code",null,".yml"),n(") file for your config:")],-1),C=s("pre",null,[s("code",null,`CONFIG_PATH="/path/to/config.yaml"
`)],-1),S=s("pre",null,[s("code",{class:"language-yaml"},[s("span",{class:"hljs-attr"},"PORT:"),n(),s("span",{class:"hljs-number"},"8055"),n(`

`),s("span",{class:"hljs-attr"},"DB_CLIENT:"),n(),s("span",{class:"hljs-string"},"pg"),n(`
`),s("span",{class:"hljs-attr"},"DB_HOST:"),n(),s("span",{class:"hljs-string"},"localhost"),n(`
`),s("span",{class:"hljs-attr"},"DB_PORT:"),n(),s("span",{class:"hljs-number"},"5432"),n(`
`),s("span",{class:"hljs-comment"},"#"),n(`
`),s("span",{class:"hljs-comment"},"# etc"),n(`
`)])],-1),I=s("h2",{id:"config.js"},[n("config.js "),s("a",{class:"header-anchor",href:"#config.js"},"#")],-1),k=s("p",null,"A JavaScript based configuration file allows for two different structures of configuration: an object or a function. Using a JS file for your config allows you to dynamically generate the configuration of the project during startup.",-1),R=s("h3",{id:"object"},[n("Object "),s("a",{class:"header-anchor",href:"#object"},"#")],-1),H=s("p",null,"Export the configuration object where the key is the environment variable name:",-1),E=s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-built_in"},"module"),n(`.exports = {
	`),s("span",{class:"hljs-attr"},"PORT"),n(": "),s("span",{class:"hljs-number"},"8055"),n(`,

	`),s("span",{class:"hljs-attr"},"DB_CLIENT"),n(": "),s("span",{class:"hljs-string"},"'pg'"),n(`,
	`),s("span",{class:"hljs-attr"},"DB_HOST"),n(": "),s("span",{class:"hljs-string"},"'localhost'"),n(`,
	`),s("span",{class:"hljs-attr"},"DB_PORT"),n(": "),s("span",{class:"hljs-number"},"5432"),n(`,

	`),s("span",{class:"hljs-comment"},"// etc"),n(`
};
`)])],-1),F=s("h3",{id:"function"},[n("Function "),s("a",{class:"header-anchor",href:"#function"},"#")],-1),A=s("p",null,"Alternatively, you can provide a function that returns the above object. The function gets process.env as it\u2019s parameter.",-1),J=s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-built_in"},"module"),n(".exports = "),s("span",{class:"hljs-function"},[s("span",{class:"hljs-keyword"},"function"),n(" ("),s("span",{class:"hljs-params"},"env"),n(") ")]),n(`{
	`),s("span",{class:"hljs-keyword"},"return"),n(` {
		`),s("span",{class:"hljs-attr"},"PORT"),n(": "),s("span",{class:"hljs-number"},"8055"),n(`,

		`),s("span",{class:"hljs-attr"},"DB_CLIENT"),n(": "),s("span",{class:"hljs-string"},"'pg'"),n(`,
		`),s("span",{class:"hljs-attr"},"DB_HOST"),n(": "),s("span",{class:"hljs-string"},"'localhost'"),n(`,
		`),s("span",{class:"hljs-attr"},"DB_PORT"),n(": "),s("span",{class:"hljs-number"},"5432"),n(`,

		`),s("span",{class:"hljs-comment"},"// etc"),n(`
	};
};
`)])],-1),q={setup(L,{expose:l}){const t={title:"Config Files",modularExtension:!1};return l({frontmatter:t}),(G,V)=>{const o=e("router-link"),c=e("DocsWrapper");return r(),i(c,{frontmatter:t},{default:a(()=>[s("div",p,[u,f,_,d,s("div",j,[g,s("p",null,[m,h(o,{to:"/docs/reference/environment-variables/"},{default:a(()=>[v]),_:1}),b])]),y,T,O,B,D,w,P,N,x,C,S,I,k,R,H,E,F,A,J])]),_:1})}}};export{q as default};
