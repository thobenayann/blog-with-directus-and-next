import{r as a,p as d,q as h,w as t,B as e,t as o,P as l}from"./vendor.62143b15.js";var u="assets/original.888775a8.jpg",i="assets/200-200-cover-75.5e0d9ff8.jpg",A="assets/200-200-contain-75.c99b890d.jpg",p="data:image/jpeg;base64,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",g="assets/200-200-cover-50.b5c757be.jpg",m="assets/200-200-cover-100.6a119754.jpg";const f={class:"markdown-body"},b=e("blockquote",null,[e("p",null,[l("The "),e("code",null,"/assets"),l(" endpoint can be used to stream or retrieve the actual file contents from assets managed within Directus.")])],-1),U=e("ul",null,[e("li",null,[e("a",{href:"#accessing-an-original-file"},"Accessing an Original File")]),e("li",null,[e("a",{href:"#requesting-a-thumbnail"},"Requesting a Thumbnail")]),e("li",null,[e("a",{href:"#downloading-a-file"},"Downloading a File")])],-1),w={class:"tip hint"},y=e("div",{class:"hint-title"},"Uploading Files",-1),x=l("To learn more about uploading files, see the "),B=l("Upload a File"),T=l(" and "),R=l("Import a File"),q=l(" endpoints."),k=e("h2",{id:"accessing-an-original-file"},[l("Accessing an Original File "),e("a",{class:"header-anchor",href:"#accessing-an-original-file"},"#")],-1),j=e("p",null,"The location of your actual file originals is based on the project\u2019s configuration, but you can consistently access them via the API using the following URL.",-1),_=e("pre",null,[e("code",null,`example.com/assets/<file-id>
example.com/assets/1ac73658-8b62-4dea-b6da-529fbc9d01a4
`)],-1),Q=e("p",null,[e("img",{src:u,alt:"Original File"}),l(),e("em",null,"Original File Used \u2014 602KB and 1800x1200")],-1),I=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Direct File Access"),e("p",null,[l("While you may "),e("em",null,"technically"),l(" be able to expose your storage adapters root filesystem and access your raw files through there, it is recommended that you always use the Directus API. This is the only way that you can take advantage of file permissions and other built-in features.")])],-1),O=e("h2",{id:"requesting-a-thumbnail"},[l("Requesting a Thumbnail "),e("a",{class:"header-anchor",href:"#requesting-a-thumbnail"},"#")],-1),C=e("p",null,[l("Fetching thumbnails is as easy as adding a "),e("code",null,"key"),l(" query parameter to the original file\u2019s URL. In the Admin App, you can configure different asset presets that control the output of any given image. If a requested thumbnail doesn\u2019t yet exist, it is dynamically generated and immediately returned.")],-1),G=e("strong",null,[e("code",null,"key")],-1),F=l(" \u2014 This "),D=e("strong",null,"key",-1),K=l(" of the "),v=l("Storage Asset Preset"),E=l(", a shortcut for the below parameters"),S=e("p",null,"Alternatively, if you have \u201CStorage Asset Transform\u201D set to all, you can use the following parameters for more fine grained control:",-1),Y=e("ul",null,[e("li",null,[e("strong",null,[e("code",null,"fit")]),l(" \u2014 The "),e("strong",null,"fit"),l(" of the thumbnail while always preserving the aspect ratio, can be any of the following options: "),e("ul",null,[e("li",null,[e("code",null,"cover"),l(" \u2014 Covers both width/height by cropping/clipping to fit")]),e("li",null,[e("code",null,"contain"),l(" \u2014 Contain within both width/height using \u201Cletterboxing\u201D as needed")]),e("li",null,[e("code",null,"inside"),l(" \u2014 Resize to be as large as possible, ensuring dimensions are less than or equal to the requested width and height")]),e("li",null,[e("code",null,"outside"),l(" \u2014 Resize to be as small as possible, ensuring dimensions are greater than or equal to the requested width and height")])])]),e("li",null,[e("strong",null,[e("code",null,"width")]),l(" \u2014 The "),e("strong",null,"width"),l(" of the thumbnail in pixels")]),e("li",null,[e("strong",null,[e("code",null,"height")]),l(" \u2014 The "),e("strong",null,"height"),l(" of the thumbnail in pixels")]),e("li",null,[e("strong",null,[e("code",null,"quality")]),l(" \u2014 The "),e("strong",null,"quality"),l(" of the thumbnail ("),e("code",null,"1"),l(" to "),e("code",null,"100"),l(") is "),e("code",null,"Optional")]),e("li",null,[e("strong",null,[e("code",null,"withoutEnlargement")]),l(" \u2014 Disable image up-scaling")]),e("li",null,[e("strong",null,[e("code",null,"format")]),l(" \u2014 What file format to return the thumbnail in. One of "),e("code",null,"jpg"),l(", "),e("code",null,"png"),l(", "),e("code",null,"webp"),l(", "),e("code",null,"tiff")])],-1),J=e("pre",null,[e("code",null,`example.com/assets/<file-id>?fit=<fit>&width=<width>&height=<height>&quality=<quality>
example.com/assets/1ac73658-8b62-4dea-b6da-529fbc9d01a4?fit=cover&width=200&height=200&quality=80
`)],-1),M=e("p",null,[l("For even more advanced control over the file generation, Directus exposes "),e("a",{href:"https://sharp.pixelplumbing.com/api-operation",target:"_blank",rel:"noopener noreferrer"},[l("the full "),e("code",null,"sharp"),l(" API")]),l(" through the "),e("code",null,"transforms"),l(" query parameter. This parameter accepts a two-dimensional array with the format "),e("code",null,"[Operation, ...arguments]"),l(", for example:")],-1),W=e("pre",null,[e("code",null,`?transforms=[
	["blur", 45],
	["tint", "rgb(255, 0, 0)"],
	["expand", { "right": 200, "bottom": 150 }]
]
`)],-1),H=e("h3",{id:"downloading-an-asset"},[l("Downloading an asset "),e("a",{class:"header-anchor",href:"#downloading-an-asset"},"#")],-1),V=e("p",null,[l("To automatically download the file when opening it in a browser, add the "),e("code",null,"download"),l(" query parameter.")],-1),N=e("ul",null,[e("li",null,[e("strong",null,[e("code",null,"download")]),l(" \u2014 Add "),e("code",null,"Content-Disposition"),l(" header and force browser to download file")])],-1),z=e("h3",{id:"cover-vs-contain"},[l("Cover vs Contain "),e("a",{class:"header-anchor",href:"#cover-vs-contain"},"#")],-1),P=e("p",null,[l("For easier comparison, both of the examples below were requested at "),e("code",null,"200"),l(" width, "),e("code",null,"200"),l(" height, and "),e("code",null,"75"),l(" quality. The "),e("code",null,"cover"),l(" thumbnail forces the dimensions, trimming the outside edges as needed. The "),e("code",null,"contain"),l(" thumbnail always maintains its aspect ratio, shrinking the image to fit "),e("em",null,"within"),l(" the dimensions and adding \u201Cletterboxing\u201D as needed.")],-1),L=e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"Cover"),e("th",null,"Contain")])]),e("tbody",null,[e("tr",null,[e("td",null,[e("img",{src:i,alt:"Cover"}),e("br"),e("em",null,"8KB \u2022 200x200")]),e("td",null,[e("img",{src:A,alt:"Contain"}),e("br"),e("em",null,"6KB \u2022 200x133")])])])],-1),Z=e("div",{class:"tip hint"},[e("div",{class:"hint-title"},"Aspect Ratio"),e("p",null,"Images are never stretched or distorted even when changing the aspect ratio.")],-1),X=e("h3",{id:"quality-vs-filesize"},[l("Quality vs Filesize "),e("a",{class:"header-anchor",href:"#quality-vs-filesize"},"#")],-1),$=e("p",null,[l("The quality parameter can be any integer from "),e("code",null,"0-100"),l(". Qualities closer to "),e("code",null,"0"),l(" have lower filesizes, but also poor image quality due to compression artifacts. Values closer to "),e("code",null,"100"),l(" have larger filesizes, but better image quality. Below are four possible qualities (200x200 cover) to visually compare the balance between compression and filesize.")],-1),ee=e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"25%"),e("th",null,"50%"),e("th",null,"75%"),e("th",null,"100%")])]),e("tbody",null,[e("tr",null,[e("td",null,[e("img",{src:p,alt:"25%"}),e("br"),e("em",null,"4KB")]),e("td",null,[e("img",{src:g,alt:"50%"}),e("br"),e("em",null,"6KB")]),e("td",null,[e("img",{src:i,alt:"75%"}),e("br"),e("em",null,"8KB")]),e("td",null,[e("img",{src:m,alt:"100%"}),e("br"),e("em",null,"38KB")])])])],-1),le=e("h2",{id:"downloading-a-file"},[l("Downloading a File "),e("a",{class:"header-anchor",href:"#downloading-a-file"},"#")],-1),te=e("p",null,[l("To download an asset with the correct filename, you need to add the "),e("code",null,"?download"),l(" query parameter to the request and the "),e("code",null,"download"),l(" attribute to your anchor tag. This will ensure the appropriate "),e("a",{href:"https://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html",target:"_blank",rel:"noopener noreferrer"},"Content-Disposition"),l(" headers are added. Without this, the download will work on the "),e("em",null,"same"),l(" domain, however it will have the file\u2019s \u201Cid\u201D as the filename for cross-origin requests.")],-1),ne=e("p",null,"Example:",-1),oe=e("pre",null,[e("code",{class:"language-html"},[e("span",{class:"hljs-tag"},[l("<"),e("span",{class:"hljs-name"},"a"),l(),e("span",{class:"hljs-attr"},"href"),l("="),e("span",{class:"hljs-string"},'"https://your-directus.com/assets/<file-id>?download"'),l(),e("span",{class:"hljs-attr"},"target"),l("="),e("span",{class:"hljs-string"},'"_blank"'),l(),e("span",{class:"hljs-attr"},"download"),l("="),e("span",{class:"hljs-string"},'"Your File.pdf"'),l(">")]),l("Download"),e("span",{class:"hljs-tag"},[l("</"),e("span",{class:"hljs-name"},"a"),l(">")]),l(`
`)])],-1),ce={setup(se,{expose:r}){const s={title:"Assets",modularExtension:!1};return r({frontmatter:s}),(ae,ie)=>{const n=a("router-link"),c=a("DocsWrapper");return d(),h(c,{frontmatter:s},{default:t(()=>[e("div",f,[b,U,e("div",w,[y,e("p",null,[x,o(n,{to:"/docs/reference/api/system/files/#upload-a-file"},{default:t(()=>[B]),_:1}),T,o(n,{to:"/docs/reference/api/system/files/#import-a-file"},{default:t(()=>[R]),_:1}),q])]),k,j,_,Q,I,O,C,e("ul",null,[e("li",null,[G,F,D,K,o(n,{to:"/docs/guides/files#creating-thumbnail-presets"},{default:t(()=>[v]),_:1}),E])]),S,Y,J,M,W,H,V,N,z,P,L,Z,X,$,ee,le,te,ne,oe])]),_:1})}}};export{ce as default};
