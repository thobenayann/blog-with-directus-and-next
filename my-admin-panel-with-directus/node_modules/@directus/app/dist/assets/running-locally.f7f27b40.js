import{r,p as c,q as h,w as o,B as e,t as s,P as t}from"./vendor.62143b15.js";const d={class:"markdown-body"},u=t("This guide explains how to install the "),p=e("em",null,"Development",-1),_=t(" version of Directus locally so that you can work on the platform\u2019s source code. To install the "),m=e("em",null,"Production",-1),f=t(" version locally, please follow to our "),g=t("standard installation guides"),v=t("."),y=e("div",{class:"tip hint"},[e("div",{class:"hint-title"},"Minimum Requirements"),e("p",null,[t("You will need to have "),e("a",{href:"https://nodejs.org/en/download/current/",target:"_blank",rel:"noopener noreferrer"},"the latest version of Node"),t(" to "),e("em",null,"build"),t(" a Development version of Directus.")]),e("p",null,[t("You can use the JavaScript tool manager "),e("a",{href:"https://volta.sh/",target:"_blank",rel:"noopener noreferrer"},"volta"),t(" to automatically install the current node and npm versions.")])],-1),b=e("h2",{id:"1.-fork-the-directus-repository"},[t("1. Fork the Directus repository "),e("a",{class:"header-anchor",href:"#1.-fork-the-directus-repository"},"#")],-1),w=e("p",null,[t("Go to the "),e("a",{href:"https://github.com/directus/directus",target:"_blank",rel:"noopener noreferrer"},"repository"),t(" and fork it to your GitHub account. A fork is your copy of the Directus repository. Forking the repository allows you to freely experiment with changes without affecting the original project.")],-1),k=e("h2",{id:"2.-clone-from-your-repository"},[t("2. Clone from your repository "),e("a",{class:"header-anchor",href:"#2.-clone-from-your-repository"},"#")],-1),x=e("pre",null,[e("code",{class:"language-bash"},[t("git "),e("span",{class:"hljs-built_in"},"clone"),t(` git@github.com:YOUR-USERNAME/directus.git
`)])],-1),j=e("h2",{id:"3.-make-a-new-branch"},[t("3. Make a new branch "),e("a",{class:"header-anchor",href:"#3.-make-a-new-branch"},"#")],-1),D=e("pre",null,[e("code",{class:"language-bash"},`git checkout -b YOUR-BRANCH-NAME
`)],-1),S=e("h2",{id:"4.-install-the-dependencies-and-build-the-project"},[t("4. Install the dependencies and build the project "),e("a",{class:"header-anchor",href:"#4.-install-the-dependencies-and-build-the-project"},"#")],-1),C=e("pre",null,[e("code",{class:"language-bash"},`npm install
npm run build
`)],-1),F=e("h2",{id:"5.-create-a-.env-file"},[t("5. Create a "),e("code",null,".env"),t(" file "),e("a",{class:"header-anchor",href:"#5.-create-a-.env-file"},"#")],-1),N=e("p",null,[t("Create a "),e("code",null,".env"),t(" file under the "),e("code",null,"api"),t(" folder. You can use the "),e("code",null,"example.env"),t(" file provided under "),e("code",null,"api"),t(" as a starting point.")],-1),R=e("pre",null,[e("code",{class:"language-bash"},[e("span",{class:"hljs-comment"},"# To use the example file"),t(`
cp api/example.env api/.env
`)])],-1),T=e("h2",{id:"6.-initialize-the-database"},[t("6. Initialize the database "),e("a",{class:"header-anchor",href:"#6.-initialize-the-database"},"#")],-1),B=e("p",null,"For this step, you\u2019ll need to already have a SQL database up-and-running, except if you\u2019re using the SQLite driver, which will create the database (file) for you.",-1),q=e("p",null,"To start the initialization run the following command:",-1),A=e("pre",null,[e("code",{class:"language-bash"},[e("span",{class:"hljs-comment"},"# From within the root of the project"),t(`
npm run cli bootstrap

`),e("span",{class:"hljs-comment"},"# For SQLite you need to run the command in the 'api' context (to ensure the database file is created in the right directory)"),t(`
npm run cli bootstrap --workspace=api
`)])],-1),I=e("p",null,"This will set-up the required tables for Directus and make sure all the migrations have run.",-1),M=e("h2",{id:"7.-start-the-development-server"},[t("7. Start the development server "),e("a",{class:"header-anchor",href:"#7.-start-the-development-server"},"#")],-1),Y=e("p",null,"Run the following command from the root directory.",-1),z=e("pre",null,[e("code",{class:"language-bash"},`npm run dev
`)],-1),E=e("p",null,[t("To work on a specific part of the platform, like just the app+api, you can provide the "),e("code",null,"scope"),t(" option as follows:")],-1),L=e("pre",null,[e("code",{class:"language-bash"},`npm run dev -- --scope directus --scope @directus/app
`)],-1),Q=e("div",{class:"warning hint"},[e("div",{class:"hint-title"},"Server startup"),e("p",null,[t("When using "),e("code",null,"npm run dev"),t(" without a provided "),e("code",null,"scope"),t(", "),e("code",null,"ts-node-dev"),t(" can get a little confused with the many restarts on first launch. Keep an eye out for the \u201Cdirectus: Server started at port xxxx\u201D message. If that doesn\u2019t show up, try restarting "),e("code",null,"npm run dev"),t(".")])],-1),U=e("p",null,[t("If are looking to work on the Documentation (public website version), you can navigate to the "),e("code",null,"docs"),t(" directory and run the following command:")],-1),V=e("pre",null,[e("code",{class:"language-bash"},`npm run dev:site
`)],-1),W={class:"tip hint"},G=t("If you encounter errors during this installation process, make sure your node version meets the "),H=t("minimum requirements"),O=e("h2",{id:"8.-make-your-fixes%2Fchanges"},[t("8. Make your fixes/changes "),e("a",{class:"header-anchor",href:"#8.-make-your-fixes%2Fchanges"},"#")],-1),P=t("At this point you are ready to start working on Directus! Before diving in however, it\u2019s worth reading through the introduction to "),J=t("Contributing"),K=t("."),te={setup(X,{expose:i}){const a={title:"Running Locally",modularExtension:!1};return i({frontmatter:a}),(Z,$)=>{const n=r("router-link"),l=r("DocsWrapper");return c(),h(l,{frontmatter:a},{default:o(()=>[e("div",d,[e("blockquote",null,[e("p",null,[u,p,_,m,f,s(n,{to:"/docs/getting-started/installation/"},{default:o(()=>[g]),_:1}),v])]),y,b,w,k,x,j,D,S,C,F,N,R,T,B,q,A,I,M,Y,z,E,L,Q,U,V,e("div",W,[e("p",null,[G,s(n,{to:"/docs/guides/installation/cli"},{default:o(()=>[H]),_:1})])]),O,e("p",null,[P,s(n,{to:"/docs/contributing/introduction"},{default:o(()=>[J]),_:1}),K])])]),_:1})}}};export{te as default};
