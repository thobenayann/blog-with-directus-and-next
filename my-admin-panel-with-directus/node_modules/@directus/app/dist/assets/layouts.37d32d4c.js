import{r as n,p as c,q as r,w as o,B as e,t as u,P as t}from"./vendor.62143b15.js";const d={class:"markdown-body"},h=t("Custom Layouts allow for building new ways to view or interact with Items via the Collection Detail pages. "),p=t("Learn more about Layouts"),y=t("."),m=e("h2",{id:"1.-setup-the-boilerplate"},[t("1. Setup the Boilerplate "),e("a",{class:"header-anchor",href:"#1.-setup-the-boilerplate"},"#")],-1),_=e("p",null,"Every layout is a standalone \u201Cpackage\u201D that contains at least a metadata file and a Vue component. We recommend using the following file structure:",-1),f=e("pre",null,[e("code",null,`src/
	index.js
	layout.vue
`)],-1),j=e("h3",{id:"src%2Findex.js"},[t("src/index.js "),e("a",{class:"header-anchor",href:"#src%2Findex.js"},"#")],-1),g=e("pre",null,[e("code",{class:"language-js"},[e("span",{class:"hljs-keyword"},"import"),t(" { ref } "),e("span",{class:"hljs-keyword"},"from"),t(),e("span",{class:"hljs-string"},"'vue'"),t(`;
`),e("span",{class:"hljs-keyword"},"import"),t(" LayoutComponent "),e("span",{class:"hljs-keyword"},"from"),t(),e("span",{class:"hljs-string"},"'./layout.vue'"),t(`;

`),e("span",{class:"hljs-keyword"},"export"),t(),e("span",{class:"hljs-keyword"},"default"),t(` {
	`),e("span",{class:"hljs-attr"},"id"),t(": "),e("span",{class:"hljs-string"},"'custom'"),t(`,
	`),e("span",{class:"hljs-attr"},"name"),t(": "),e("span",{class:"hljs-string"},"'Custom'"),t(`,
	`),e("span",{class:"hljs-attr"},"icon"),t(": "),e("span",{class:"hljs-string"},"'box'"),t(`,
	`),e("span",{class:"hljs-attr"},"component"),t(`: LayoutComponent,
	`),e("span",{class:"hljs-attr"},"slots"),t(`: {
		`),e("span",{class:"hljs-attr"},"options"),t(": "),e("span",{class:"hljs-function"},"() =>"),t(),e("span",{class:"hljs-literal"},"null"),t(`,
		`),e("span",{class:"hljs-attr"},"sidebar"),t(": "),e("span",{class:"hljs-function"},"() =>"),t(),e("span",{class:"hljs-literal"},"null"),t(`,
		`),e("span",{class:"hljs-attr"},"actions"),t(": "),e("span",{class:"hljs-function"},"() =>"),t(),e("span",{class:"hljs-literal"},"null"),t(`,
	},
	`),e("span",{class:"hljs-function"},[e("span",{class:"hljs-title"},"setup"),t("("),e("span",{class:"hljs-params"}),t(")")]),t(` {
		`),e("span",{class:"hljs-keyword"},"const"),t(" name = ref("),e("span",{class:"hljs-string"},"'Custom Layout'"),t(`);

		`),e("span",{class:"hljs-keyword"},"return"),t(` { name };
	},
};
`)])],-1),b=e("ul",null,[e("li",null,[e("code",null,"id"),t(" \u2014 The unique key for this layout. It is good practice to scope proprietary layouts with an author prefix.")]),e("li",null,[e("code",null,"name"),t(" \u2014 The human-readable name for this layout.")]),e("li",null,[e("code",null,"icon"),t(" \u2014 An icon name from the material icon set, or the extended list of Directus custom icons.")]),e("li",null,[e("code",null,"component"),t(" \u2014 A reference to your Vue component.")])],-1),x=e("div",{class:"tip hint"},[e("div",{class:"hint-title"},"TypeScript"),e("p",null,[t("See "),e("a",{href:"https://github.com/directus/directus/blob/20355fee5eba514dd75565f60269311187010c66/app/src/layouts/types.ts#L4-L9",target:"_blank",rel:"noopener noreferrer"},"the TypeScript definition"),t(" for more info on what can go into this object.")])],-1),v=e("h3",{id:"src%2Flayout.vue"},[t("src/layout.vue "),e("a",{class:"header-anchor",href:"#src%2Flayout.vue"},"#")],-1),k=e("pre",null,[e("code",{class:"language-vue"},`<template>
	<div>
		<p>Name: {{ name }}</p>
		<p>Collection: {{ collection }}</p>
	</div>
</template>

<script>
export default {
	inheritAttrs: false,
	props: {
		collection: {
			type: String,
			required: true,
		},
		name: {
			type: String,
			required: true,
		},
	},
};
<\/script>
`)],-1),w=e("p",null,"The props you can use in an layout are:",-1),T=e("ul",null,[e("li",null,[e("code",null,"collection"),t(" \u2014 The current collection\u2019s name.")]),e("li",null,[e("code",null,"selection"),t(" (sync) - Any currently selected items.")]),e("li",null,[e("code",null,"layout-options"),t(" (sync) - The user\u2019s current saved layout options.")]),e("li",null,[e("code",null,"layout-query"),t(" (sync) - The user\u2019s layout query parameters. (eg: sort, limit, etc)")]),e("li",null,[e("code",null,"filters"),t(" (sync) - The user\u2019s currently active filters.")]),e("li",null,[e("code",null,"search-query"),t(" (sync) - The user\u2019s current search query.")])],-1),C=e("h2",{id:"2.-install-dependencies"},[t("2. Install Dependencies "),e("a",{class:"header-anchor",href:"#2.-install-dependencies"},"#")],-1),L=e("p",null,"Set up a package.json file by running:",-1),D=e("pre",null,[e("code",{class:"language-bash"},`npm init -y
`)],-1),q=e("p",null,[t("To be read by the Admin App, your custom layouts\u2019s Vue component must first be bundled into a single "),e("code",null,"index.js"),t(" file. We recommend bundling your code using the directus-extension CLI from our "),e("code",null,"@directus/extensions-sdk"),t(" package. The CLI internally uses a Rollup configuration tailored specifically to bundling Directus extensions. To install the Extension SDK, run this command:")],-1),S=e("pre",null,[e("code",{class:"language-bash"},`npm i -D @directus/extensions-sdk
`)],-1),V=e("p",null,[t("For the directus-extension CLI to recognize the extension type, the input path and the output path, add this field to the root of the "),e("code",null,"package.json"),t(" file:")],-1),A=e("pre",null,[e("code",{class:"language-json"},`"directus:extension": {
	"type": "layout",
	"path": "dist/index.js",
	"source": "src/index.js",
	"host": "^9.0.0-rc.87",
	"hidden": false
}
`)],-1),B=e("h2",{id:"3.-develop-your-custom-layout"},[t("3. Develop Your Custom Layout "),e("a",{class:"header-anchor",href:"#3.-develop-your-custom-layout"},"#")],-1),F=e("p",null,"The layout itself is simply a Vue component, which provides an blank canvas for creating anything you need.",-1),I=e("h2",{id:"4.-build-and-deploy"},[t("4. Build and Deploy "),e("a",{class:"header-anchor",href:"#4.-build-and-deploy"},"#")],-1),N=e("p",null,"To build the layout for use within Directus, run:",-1),W=e("pre",null,[e("code",{class:"language-bash"},`npx directus-extension build
`)],-1),E=e("p",null,[t("Finally, move the output from your layout\u2019s "),e("code",null,"dist"),t(" folder into your project\u2019s "),e("code",null,"/extensions/layouts/my-custom-layout"),t(" folder. Keep in mind that the extensions directory is configurable within your env file, and may be located elsewhere.")],-1),Y={setup(K,{expose:l}){const s={title:"Custom Layouts",modularExtension:!0};return l({frontmatter:s}),(z,P)=>{const a=n("router-link"),i=n("DocsWrapper");return c(),r(i,{frontmatter:s},{default:o(()=>[e("div",d,[e("blockquote",null,[e("p",null,[h,u(a,{to:"/docs/guides/layouts/"},{default:o(()=>[p]),_:1}),y])]),m,_,f,j,g,b,x,v,k,w,T,C,L,D,q,S,V,A,B,F,I,N,W,E])]),_:1})}}};export{Y as default};
