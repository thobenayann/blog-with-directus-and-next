import{r as l,p as d,q as r,w as n,B as s,t as a,P as e}from"./vendor.62143b15.js";const p={class:"markdown-body"},u=e("Displays are small inline components that allow you to create new ways of viewing field values throughout the App. "),h=e("Learn more about Displays"),_=e("."),y=s("h2",{id:"1.-setup-the-boilerplate"},[e("1. Setup the Boilerplate "),s("a",{class:"header-anchor",href:"#1.-setup-the-boilerplate"},"#")],-1),f=s("p",null,"Every display is a standalone \u201Cpackage\u201D that contains at least a metadata file and a Vue component. We recommend using the following file structure:",-1),m=s("pre",null,[s("code",null,`src/
	index.js
	display.vue
`)],-1),g=s("h3",{id:"src%2Findex.js"},[e("src/index.js "),s("a",{class:"header-anchor",href:"#src%2Findex.js"},"#")],-1),j=s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"import"),e(" DisplayComponent "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'./display.vue'"),e(`;

`),s("span",{class:"hljs-keyword"},"export"),e(),s("span",{class:"hljs-keyword"},"default"),e(` {
	`),s("span",{class:"hljs-attr"},"id"),e(": "),s("span",{class:"hljs-string"},"'custom'"),e(`,
	`),s("span",{class:"hljs-attr"},"name"),e(": "),s("span",{class:"hljs-string"},"'Custom'"),e(`,
	`),s("span",{class:"hljs-attr"},"description"),e(": "),s("span",{class:"hljs-string"},"'This is my custom display!'"),e(`,
	`),s("span",{class:"hljs-attr"},"icon"),e(": "),s("span",{class:"hljs-string"},"'box'"),e(`,
	`),s("span",{class:"hljs-attr"},"component"),e(`: DisplayComponent,
	`),s("span",{class:"hljs-attr"},"types"),e(": ["),s("span",{class:"hljs-string"},"'string'"),e(`],
};
`)])],-1),b=s("li",null,[s("code",null,"id"),e(" \u2014 The unique key for this display. It is good practice to scope proprietary displays with an author prefix.")],-1),x=s("li",null,[s("code",null,"name"),e(" \u2014 The human-readable name for this display.")],-1),v=s("li",null,[s("code",null,"description"),e(" \u2014 A short description (<80 characters) of this display shown in the App.")],-1),k=s("li",null,[s("code",null,"icon"),e(" \u2014 An icon name from the material icon set, or the extended list of Directus custom icons.")],-1),w=s("li",null,[s("code",null,"component"),e(" \u2014 A reference to your Vue component.")],-1),T=s("code",null,"types",-1),D=e(" \u2014 A CSV of supported "),C=e("types"),V=e("."),A=s("div",{class:"tip hint"},[s("p",null,[s("a",{href:"https://github.com/directus/directus/blob/20355fee5eba514dd75565f60269311187010c66/app/src/displays/types.ts#L24-L34",target:"_blank",rel:"noopener noreferrer"},"See the TypeScript definition"),e(" for more info on what can go into this object.")])],-1),S=s("h3",{id:"src%2Fdisplay.vue"},[e("src/display.vue "),s("a",{class:"header-anchor",href:"#src%2Fdisplay.vue"},"#")],-1),F=s("pre",null,[s("code",{class:"language-vue"},`<template>
	<div>Value: {{ value }}</div>
</template>

<script>
export default {
	props: {
		value: String,
	},
};
<\/script>
`)],-1),L=s("p",null,"The props you can use in an display are:",-1),B=s("ul",null,[s("li",null,[s("code",null,"value"),e(" \u2014 The value of the parent field.")]),s("li",null,[s("code",null,"interface"),e(" - The interface of the parent field.")]),s("li",null,[s("code",null,"interface-options"),e(" - The options for the parent field\u2019s interface.")]),s("li",null,[s("code",null,"type"),e(" \u2014 The type of the parent field.")]),s("li",null,[s("code",null,"collection"),e(" \u2014 The collection name of the parent field.")]),s("li",null,[s("code",null,"field"),e(" \u2014 The key of the parent field.")])],-1),I=s("hr",null,null,-1),W=s("p",null,"Instead of defining the component inside a Vue SFC file, you can use a functional component. This allows you to make simple displays that don\u2019t need a full component rendered:",-1),q=s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"export"),e(),s("span",{class:"hljs-keyword"},"default"),e(` {
	`),s("span",{class:"hljs-attr"},"id"),e(": "),s("span",{class:"hljs-string"},"'custom'"),e(`,
	`),s("span",{class:"hljs-attr"},"name"),e(": "),s("span",{class:"hljs-string"},"'Custom'"),e(`,
	`),s("span",{class:"hljs-attr"},"description"),e(": "),s("span",{class:"hljs-string"},"'This is my custom display!'"),e(`,
	`),s("span",{class:"hljs-attr"},"icon"),e(": "),s("span",{class:"hljs-string"},"'box'"),e(`,
	`),s("span",{class:"hljs-attr"},"component"),e(": "),s("span",{class:"hljs-function"},[s("span",{class:"hljs-keyword"},"function"),e(" ("),s("span",{class:"hljs-params"},"{ value }"),e(") ")]),e(`{
		`),s("span",{class:"hljs-keyword"},"return"),e(` value.toLowerCase();
	},
	`),s("span",{class:"hljs-attr"},"types"),e(": ["),s("span",{class:"hljs-string"},"'string'"),e(`],
};
`)])],-1),E=s("h2",{id:"2.-install-dependencies"},[e("2. Install Dependencies "),s("a",{class:"header-anchor",href:"#2.-install-dependencies"},"#")],-1),N=s("p",null,"Set up a package.json file by running:",-1),K=s("pre",null,[s("code",{class:"language-bash"},`npm init -y
`)],-1),z=s("p",null,[e("To be read by the Admin App, your custom display\u2019s Vue component must first be bundled into a single "),s("code",null,"index.js"),e(" file. We recommend bundling your code using the directus-extension CLI from our "),s("code",null,"@directus/extensions-sdk"),e(" package. The CLI internally uses a Rollup configuration tailored specifically to bundling Directus extensions. To install the Extension SDK, run this command:")],-1),P=s("pre",null,[s("code",{class:"language-bash"},`npm i -D @directus/extensions-sdk
`)],-1),R=s("p",null,[e("For the directus-extension CLI to recognize the extension type, the input path and the output path, add this field to the root of the "),s("code",null,"package.json"),e(" file:")],-1),Y=s("pre",null,[s("code",{class:"language-json"},`"directus:extension": {
	"type": "display",
	"path": "dist/index.js",
	"source": "src/index.js",
	"host": "^9.0.0-rc.87",
	"hidden": false
}
`)],-1),G=s("h2",{id:"3.-develop-your-custom-display"},[e("3. Develop Your Custom Display "),s("a",{class:"header-anchor",href:"#3.-develop-your-custom-display"},"#")],-1),H=s("p",null,"The display itself is simply a function or a Vue component, providing a blank canvas for creating anything you need.",-1),J=s("h2",{id:"4.-build-and-deploy"},[e("4. Build and Deploy "),s("a",{class:"header-anchor",href:"#4.-build-and-deploy"},"#")],-1),M=s("p",null,"To build the display for use within Directus, run:",-1),O=s("pre",null,[s("code",{class:"language-bash"},`npx directus-extension build
`)],-1),Q=s("p",null,[e("Finally, move the output from your display\u2019s "),s("code",null,"dist"),e(" folder into your project\u2019s "),s("code",null,"/extensions/displays/my-custom-display"),e(" folder. Keep in mind that the extensions directory is configurable within your env file, and may be located elsewhere.")],-1),ss={setup(U,{expose:i}){const t={title:"Custom Displays",modularExtension:!0};return i({frontmatter:t}),(X,Z)=>{const o=l("router-link"),c=l("DocsWrapper");return d(),r(c,{frontmatter:t},{default:n(()=>[s("div",p,[s("blockquote",null,[s("p",null,[u,a(o,{to:"/docs/concepts/displays/"},{default:n(()=>[h]),_:1}),_])]),y,f,m,g,j,s("ul",null,[b,x,v,k,w,s("li",null,[T,D,a(o,{to:"/docs/concepts/types/"},{default:n(()=>[C]),_:1}),V])]),A,S,F,L,B,I,W,q,E,N,K,z,P,R,Y,G,H,J,M,O,Q])]),_:1})}}};export{ss as default};
