import{r as l,p as r,q as o,w as c,B as s,P as e}from"./vendor.62143b15.js";const i=s("div",{class:"markdown-body"},[s("blockquote",null,[s("p",null,[e("The JS SDK provides an intuitive interface for the Directus API from within a JavaScript-powered project (browsers and node.js). The default implementation uses "),s("a",{href:"https://npmjs.com/axios",target:"_blank",rel:"noopener noreferrer"},"Axios"),e(" for transport and "),s("code",null,"localStorage"),e(" for storing state.")])]),s("p",null,[s("div",{class:"table-of-contents"},[s("ul",null,[s("li",null,[s("a",{href:"#installation"},"Installation")]),s("li",null,[s("a",{href:"#usage"},"Usage")]),s("li",null,[s("a",{href:"#global"},"Global")]),s("li",null,[s("a",{href:"#items"},"Items")]),s("li",null,[s("a",{href:"#activity"},"Activity")]),s("li",null,[s("a",{href:"#auth"},"Auth")]),s("li",null,[s("a",{href:"#transport"},"Transport")]),s("li",null,[s("a",{href:"#storage"},"Storage")]),s("li",null,[s("a",{href:"#collections"},"Collections")]),s("li",null,[s("a",{href:"#fields"},"Fields")]),s("li",null,[s("a",{href:"#files"},"Files")]),s("li",null,[s("a",{href:"#folders"},"Folders")]),s("li",null,[s("a",{href:"#permissions"},"Permissions")]),s("li",null,[s("a",{href:"#presets"},"Presets")]),s("li",null,[s("a",{href:"#relations"},"Relations")]),s("li",null,[s("a",{href:"#revisions"},"Revisions")]),s("li",null,[s("a",{href:"#roles"},"Roles")]),s("li",null,[s("a",{href:"#settings"},"Settings")]),s("li",null,[s("a",{href:"#server"},"Server")]),s("li",null,[s("a",{href:"#users"},"Users")]),s("li",null,[s("a",{href:"#utils"},"Utils")]),s("li",null,[s("a",{href:"#typescript"},"TypeScript")])])])]),s("h2",{id:"installation"},[e("Installation "),s("a",{class:"header-anchor",href:"#installation"},"#")]),s("pre",null,[s("code",{class:"language-bash"},`npm install @directus/sdk
`)]),s("h2",{id:"usage"},[e("Usage "),s("a",{class:"header-anchor",href:"#usage"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"import"),e(" { Directus } "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'@directus/sdk'"),e(`;

`),s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus("),s("span",{class:"hljs-string"},"'https://api.example.com/'"),e(`);
`)])]),s("p",null,[s("strong",null,"NOTE"),e(),s("em",null,"All"),e(" methods return promises. Make sure to await methods, for example:")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"import"),e(" { Directus } "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'@directus/sdk'"),e(`;

`),s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus("),s("span",{class:"hljs-string"},"'https://api.example.com/'"),e(`);

`),s("span",{class:"hljs-comment"},"// Wait for login to be done..."),e(`
`),s("span",{class:"hljs-keyword"},"await"),e(` directus.auth.login({
	`),s("span",{class:"hljs-attr"},"email"),e(": "),s("span",{class:"hljs-string"},"'admin@example.com'"),e(`,
	`),s("span",{class:"hljs-attr"},"password"),e(": "),s("span",{class:"hljs-string"},"'password'"),e(`,
});

`),s("span",{class:"hljs-comment"},"// ... before fetching items"),e(`
`),s("span",{class:"hljs-keyword"},"const"),e(" articles = "),s("span",{class:"hljs-keyword"},"await"),e(" directus.items("),s("span",{class:"hljs-string"},"'articles'"),e(`).readMany();

`),s("span",{class:"hljs-built_in"},"console"),e(`.log({
	`),s("span",{class:"hljs-attr"},"items"),e(`: articles.data,
	`),s("span",{class:"hljs-attr"},"total"),e(`: articles.meta.total_count,
});
`)])]),s("h2",{id:"global"},[e("Global "),s("a",{class:"header-anchor",href:"#global"},"#")]),s("h3",{id:"initialize"},[e("Initialize "),s("a",{class:"header-anchor",href:"#initialize"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"import"),e(" { Directus } "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'@directus/sdk'"),e(`;

`),s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus("),s("span",{class:"hljs-string"},"'https://api.example.com/'"),e(`);
`)])]),s("h4",{id:"url"},[s("code",null,"url"),e(),s("a",{class:"header-anchor",href:"#url"},"#")]),s("p",null,"The constructor accepts the URL as the first parameter."),s("h4",{id:"options.auth"},[s("code",null,"options.auth"),e(),s("a",{class:"header-anchor",href:"#options.auth"},"#")]),s("p",null,[e("The authentication implementation. See "),s("a",{href:"#auth"},"Auth"),e(" for more information.")]),s("p",null,[e("Defaults to an instance "),s("code",null,"Auth"),e(".")]),s("h4",{id:"options.storage"},[s("code",null,"options.storage"),e(),s("a",{class:"header-anchor",href:"#options.storage"},"#")]),s("p",null,[e("The storage implementation. See "),s("a",{href:"#storage"},"Storage"),e(" for more information.")]),s("p",null,[e("Defaults to an instance of "),s("code",null,"MemoryStorage"),e(" when in node.js, and "),s("code",null,"LocalStorage"),e(" when in browsers.")]),s("p",null,[s("strong",null,"NOTE:")]),s("p",null,"If you plan to use multiple SDK instances at once, keep in mind that they will share the Storage across them, leading to unpredictable behaviors. This scenario might be a case while writing tests."),s("p",null,[e("For example, the SDK instance that executed last the "),s("code",null,"login()"),e(" method writes the resulting "),s("code",null,"access_token"),e(" into the Storage and "),s("strong",null,"overwrites"),e(" any prior fetched "),s("code",null,"access_token"),e(" from any other SDK instance. That might mix up your test scenario by granting false access rights to your previous logged-in users.")]),s("p",null,"Adding prefixes to your Storage instances would solve this error:"),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"import"),e(" { Directus, MemoryStorage } "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'@directus/sdk'"),e(`;
`),s("span",{class:"hljs-keyword"},"import"),e(" { randomBytes } "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'crypto'"),e(`;

`),s("span",{class:"hljs-comment"},"// ..."),e(`

`),s("span",{class:"hljs-keyword"},"const"),e(" prefix = randomBytes("),s("span",{class:"hljs-number"},"8"),e(").toString("),s("span",{class:"hljs-string"},"'hex'"),e(`);
`),s("span",{class:"hljs-keyword"},"const"),e(" storage = "),s("span",{class:"hljs-keyword"},"new"),e(` MemoryStorage(prefix);
`),s("span",{class:"hljs-keyword"},"const"),e(" url = "),s("span",{class:"hljs-string"},[e("`http://"),s("span",{class:"hljs-subst"},"${host}"),e(":"),s("span",{class:"hljs-subst"},"${port}"),e("`")]),e(`;
`),s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(` Directus(url, { storage });
`)])]),s("h4",{id:"options.transport"},[s("code",null,"options.transport"),e(),s("a",{class:"header-anchor",href:"#options.transport"},"#")]),s("p",null,[e("The transport implementation. See "),s("a",{href:"#transport"},"Transport"),e(" for more information.")]),s("p",null,[e("Defaults to an instance of "),s("code",null,"AxiosTransport"),e(".")]),s("h3",{id:"example"},[e("Example "),s("a",{class:"header-anchor",href:"#example"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus("),s("span",{class:"hljs-string"},"'http://api.example.com/'"),e(`);
`)])]),s("h3",{id:"get-%2F-set-api-url"},[e("Get / Set API URL "),s("a",{class:"header-anchor",href:"#get-%2F-set-api-url"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-comment"},"// Get the API base URL"),e(`
`),s("span",{class:"hljs-built_in"},"console"),e(".log(directus.transport.url); "),s("span",{class:"hljs-comment"},"// => https://api.example.com/"),e(`

`),s("span",{class:"hljs-comment"},"// Set the API base URL"),e(`
directus.transport.url = `),s("span",{class:"hljs-string"},"'https://api2.example.com'"),e(`;
`)])]),s("h3",{id:"access-to-transport%2Faxios"},[e("Access to transport/Axios "),s("a",{class:"header-anchor",href:"#access-to-transport%2Faxios"},"#")]),s("p",null,[e("You can tap into the transport through "),s("code",null,"directus.transport"),e(". If you are using the (default) "),s("code",null,"AxiosTransport"),e(", you can access axios through "),s("code",null,"directus.transport.axios"),e(".")]),s("h4",{id:"intercepting-requests-and-responses"},[e("Intercepting requests and responses "),s("a",{class:"header-anchor",href:"#intercepting-requests-and-responses"},"#")]),s("p",null,"Axios transport offers a wrapper around Axios interceptors to make it easy for you to inject/eject interceptors."),s("pre",null,[s("code",{class:"language-ts"},[s("span",{class:"hljs-keyword"},"const"),e(" requestInterceptor = directus.transport.requests.intercept("),s("span",{class:"hljs-function"},[e("("),s("span",{class:"hljs-params"},"config"),e(") =>")]),e(` {
	config.headers[`),s("span",{class:"hljs-string"},"'My-Custom-Header'"),e("] = "),s("span",{class:"hljs-string"},"'Header value'"),e(`;
	`),s("span",{class:"hljs-keyword"},"return"),e(` config;
});

`),s("span",{class:"hljs-comment"},"// If you don't want the interceptor anymore, remove it"),e(`
requestInterceptor.eject();
`)])]),s("pre",null,[s("code",{class:"language-ts"},[s("span",{class:"hljs-keyword"},"const"),e(" responseInterceptor = directus.transport.responses.intercept("),s("span",{class:"hljs-function"},[e("("),s("span",{class:"hljs-params"},"response"),e(") =>")]),e(` {
	`),s("span",{class:"hljs-built_in"},"console"),e(".log("),s("span",{class:"hljs-string"},"'Response received'"),e(`, { response });
	`),s("span",{class:"hljs-keyword"},"return"),e(` response;
});

`),s("span",{class:"hljs-comment"},"// If you don't want the interceptor anymore, remove it"),e(`
responseInterceptor.eject();
`)])]),s("h2",{id:"items"},[e("Items "),s("a",{class:"header-anchor",href:"#items"},"#")]),s("p",null,[e("You can get an instance of the item handler by providing the collection (and type, in the case of TypeScript) to the "),s("code",null,"items"),e(" function. The following examples will use the "),s("code",null,"Article"),e(" type.")]),s("blockquote",null,[s("p",null,"JavaScript")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-comment"},"// import { Directus, ID } from '@directus/sdk';"),e(`
`),s("span",{class:"hljs-keyword"},"const"),e(" { Directus } = "),s("span",{class:"hljs-built_in"},"require"),e("("),s("span",{class:"hljs-string"},"'@directus/sdk'"),e(`);

`),s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus("),s("span",{class:"hljs-string"},"'https://api.example.com'"),e(`);

`),s("span",{class:"hljs-keyword"},"const"),e(" articles = directus.items("),s("span",{class:"hljs-string"},"'articles'"),e(`);
`)])]),s("blockquote",null,[s("p",null,"TypeScript")]),s("pre",null,[s("code",{class:"language-ts"},[s("span",{class:"hljs-keyword"},"import"),e(" { Directus, ID } "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'@directus/sdk'"),e(`;

`),s("span",{class:"hljs-comment"},"// Map your collection structure based on its fields."),e(`
`),s("span",{class:"hljs-keyword"},"type"),e(` Article = {
	`),s("span",{class:"hljs-attr"},"id"),e(`: ID;
	title: `),s("span",{class:"hljs-built_in"},"string"),e(`;
	body: `),s("span",{class:"hljs-built_in"},"string"),e(`;
	published: `),s("span",{class:"hljs-built_in"},"boolean"),e(`;
};

`),s("span",{class:"hljs-comment"},"// Map your collections to its respective types. The SDK will"),e(`
`),s("span",{class:"hljs-comment"},"// infer its types based on usage later."),e(`
`),s("span",{class:"hljs-keyword"},"type"),e(` MyBlog = {
	`),s("span",{class:"hljs-comment"},"// [collection_name]: typescript_type"),e(`
	`),s("span",{class:"hljs-attr"},"articles"),e(`: Article;

	`),s("span",{class:"hljs-comment"},"// You can also extend Directus collection. The naming has"),e(`
	`),s("span",{class:"hljs-comment"},"// to match a Directus system collection and it will be merged"),e(`
	`),s("span",{class:"hljs-comment"},"// into the system spec."),e(`
	directus_users: {
		`),s("span",{class:"hljs-attr"},"bio"),e(": "),s("span",{class:"hljs-built_in"},"string"),e(`;
	};
};

`),s("span",{class:"hljs-comment"},"// Let the SDK know about your collection types."),e(`
`),s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus<MyBlog>("),s("span",{class:"hljs-string"},"'https://directus.myblog.com'"),e(`);

`),s("span",{class:"hljs-comment"},'// typeof(article) is a partial "Article"'),e(`
`),s("span",{class:"hljs-keyword"},"const"),e(" article = "),s("span",{class:"hljs-keyword"},"await"),e(" directus.items("),s("span",{class:"hljs-string"},"'articles'"),e(").readOne("),s("span",{class:"hljs-number"},"10"),e(`);

`),s("span",{class:"hljs-comment"},'// Error TS2322: "hello" is not assignable to type "boolean".'),e(`
`),s("span",{class:"hljs-comment"},"// post.published = 'hello';"),e(`
`)])]),s("h3",{id:"create-single-item"},[e("Create Single Item "),s("a",{class:"header-anchor",href:"#create-single-item"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` articles.createOne({
	`),s("span",{class:"hljs-attr"},"title"),e(": "),s("span",{class:"hljs-string"},"'My New Article'"),e(`,
});
`)])]),s("h3",{id:"create-multiple-items"},[e("Create Multiple Items "),s("a",{class:"header-anchor",href:"#create-multiple-items"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` articles.createMany([
	{
		`),s("span",{class:"hljs-attr"},"title"),e(": "),s("span",{class:"hljs-string"},"'My First Article'"),e(`,
	},
	{
		`),s("span",{class:"hljs-attr"},"title"),e(": "),s("span",{class:"hljs-string"},"'My Second Article'"),e(`,
	},
]);
`)])]),s("h3",{id:"read-all"},[e("Read All "),s("a",{class:"header-anchor",href:"#read-all"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` articles.readMany();
`)])]),s("h3",{id:"read-by-query"},[e("Read By Query "),s("a",{class:"header-anchor",href:"#read-by-query"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` articles.readMany({
	`),s("span",{class:"hljs-attr"},"search"),e(": "),s("span",{class:"hljs-string"},"'Directus'"),e(`,
	`),s("span",{class:"hljs-attr"},"filter"),e(`: {
		`),s("span",{class:"hljs-attr"},"date_published"),e(`: {
			`),s("span",{class:"hljs-attr"},"_gte"),e(": "),s("span",{class:"hljs-string"},"'$NOW'"),e(`,
		},
	},
});
`)])]),s("h3",{id:"read-by-primary-key(s)"},[e("Read By Primary Key(s) "),s("a",{class:"header-anchor",href:"#read-by-primary-key(s)"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" articles.readOne("),s("span",{class:"hljs-number"},"15"),e(`);
`)])]),s("p",null,"Supports optional query:"),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" articles.readOne("),s("span",{class:"hljs-number"},"15"),e(", { "),s("span",{class:"hljs-attr"},"fields"),e(": ["),s("span",{class:"hljs-string"},"'title'"),e(`] });
`)])]),s("h3",{id:"update-multiple-items"},[e("Update Multiple Items "),s("a",{class:"header-anchor",href:"#update-multiple-items"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" articles.updateMany(["),s("span",{class:"hljs-number"},"15"),e(", "),s("span",{class:"hljs-number"},"42"),e(`], {
	`),s("span",{class:"hljs-attr"},"title"),e(": "),s("span",{class:"hljs-string"},"'Both articles now have the same title'"),e(`,
});
`)])]),s("p",null,"Supports optional query:"),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` articles.updateMany(
	[`),s("span",{class:"hljs-number"},"15"),e(", "),s("span",{class:"hljs-number"},"42"),e(`],
	{
		`),s("span",{class:"hljs-attr"},"title"),e(": "),s("span",{class:"hljs-string"},"'Both articles now have the same title'"),e(`,
	},
	{
		`),s("span",{class:"hljs-attr"},"fields"),e(": ["),s("span",{class:"hljs-string"},"'title'"),e(`],
	}
);
`)])]),s("h3",{id:"delete"},[e("Delete "),s("a",{class:"header-anchor",href:"#delete"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-comment"},"// One"),e(`
`),s("span",{class:"hljs-keyword"},"await"),e(" articles.deleteOne("),s("span",{class:"hljs-number"},"15"),e(`);

`),s("span",{class:"hljs-comment"},"// Multiple"),e(`
`),s("span",{class:"hljs-keyword"},"await"),e(" articles.deleteMany(["),s("span",{class:"hljs-number"},"15"),e(", "),s("span",{class:"hljs-number"},"42"),e(`]);
`)])]),s("h2",{id:"activity"},[e("Activity "),s("a",{class:"header-anchor",href:"#activity"},"#")]),s("h3",{id:"read-all-activity"},[e("Read All Activity "),s("a",{class:"header-anchor",href:"#read-all-activity"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.activity.readMany();
`)])]),s("h3",{id:"read-activity-by-query"},[e("Read Activity By Query "),s("a",{class:"header-anchor",href:"#read-activity-by-query"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.activity.readMany({
	`),s("span",{class:"hljs-attr"},"filter"),e(`: {
		`),s("span",{class:"hljs-attr"},"action"),e(`: {
			`),s("span",{class:"hljs-attr"},"_eq"),e(": "),s("span",{class:"hljs-string"},"'create'"),e(`,
		},
	},
});
`)])]),s("h3",{id:"read-activity-by-primary-key(s)"},[e("Read Activity By Primary Key(s) "),s("a",{class:"header-anchor",href:"#read-activity-by-primary-key(s)"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.activity.readOne("),s("span",{class:"hljs-number"},"15"),e(`);
`)])]),s("p",null,"Supports optional query:"),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.activity.readOne("),s("span",{class:"hljs-number"},"15"),e(", { "),s("span",{class:"hljs-attr"},"fields"),e(": ["),s("span",{class:"hljs-string"},"'action'"),e(`] });
`)])]),s("h3",{id:"create-a-comment"},[e("Create a Comment "),s("a",{class:"header-anchor",href:"#create-a-comment"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.activity.comments.create({
	`),s("span",{class:"hljs-attr"},"collection"),e(": "),s("span",{class:"hljs-string"},"'articles'"),e(`,
	`),s("span",{class:"hljs-attr"},"item"),e(": "),s("span",{class:"hljs-number"},"15"),e(`,
	`),s("span",{class:"hljs-attr"},"comment"),e(": "),s("span",{class:"hljs-string"},"'Hello, world!'"),e(`,
});
`)])]),s("h3",{id:"update-a-comment"},[e("Update a comment "),s("a",{class:"header-anchor",href:"#update-a-comment"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.activity.comments.update("),s("span",{class:"hljs-number"},"31"),e(`, {
	`),s("span",{class:"hljs-attr"},"comment"),e(": "),s("span",{class:"hljs-string"},"'Howdy, world!'"),e(`,
});
`)])]),s("p",null,"Note: The passed key is the primary key of the comment"),s("h3",{id:"delete-a-comment"},[e("Delete a comment "),s("a",{class:"header-anchor",href:"#delete-a-comment"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.activity.comments.delete("),s("span",{class:"hljs-number"},"31"),e(`);
`)])]),s("p",null,"Note: The passed key is the primary key of the comment"),s("h2",{id:"auth"},[e("Auth "),s("a",{class:"header-anchor",href:"#auth"},"#")]),s("h3",{id:"configuration"},[e("Configuration "),s("a",{class:"header-anchor",href:"#configuration"},"#")]),s("p",null,[e("Directus will accept custom implementations of the "),s("code",null,"IAuth"),e(" interface. The default implementation "),s("code",null,"Auth"),e(" can be imported from "),s("code",null,"@directus/sdk"),e(". The default implementation will require you to pass the transport and storage implementations. All options are optional.")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"import"),e(" { Auth } "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'@directus/sdk'"),e(`;

`),s("span",{class:"hljs-comment"},"// ..."),e(`

`),s("span",{class:"hljs-keyword"},"const"),e(" sdk = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus("),s("span",{class:"hljs-string"},"'url'"),e(`, {
	`),s("span",{class:"hljs-attr"},"auth"),e(": "),s("span",{class:"hljs-keyword"},"new"),e(` Auth(transport, storage, options);
	`),s("span",{class:"hljs-comment"},"// ..."),e(`
});
`)])]),s("h4",{id:"transport"},[e("transport "),s("a",{class:"header-anchor",href:"#transport"},"#")]),s("p",null,"The transport responsible for communicating with Directus backend."),s("p",null,[e("Defaults to an instance of "),s("code",null,"AxiosTransport"),e(" when not creating "),s("code",null,"Auth"),e(" youself.")]),s("h4",{id:"storage"},[e("storage "),s("a",{class:"header-anchor",href:"#storage"},"#")]),s("p",null,"The storage responsible for storing authentication and sdk state."),s("p",null,[e("When not creating "),s("code",null,"Auth"),e(" youself, defaults to "),s("code",null,"MemoryStorage"),e(" in node.js, and "),s("code",null,"LocalStorage"),e(" in browsers.")]),s("h4",{id:"options"},[e("options "),s("a",{class:"header-anchor",href:"#options"},"#")]),s("h5",{id:"options.mode"},[e("options.mode "),s("a",{class:"header-anchor",href:"#options.mode"},"#")]),s("p",null,[e("Accepts "),s("code",null,"cookie"),e(" or "),s("code",null,"json"),e(".")]),s("p",null,[e("When in "),s("code",null,"cookie"),e(" mode, the API will set the refresh token in an "),s("code",null,"httpOnly"),e(" secure cookie that can\u2019t be accessed from client side JavaScript. This is the most secure way to connect to the API from a public front-end website.")]),s("p",null,[e("When you can\u2019t rely on cookies, or need more control over handling the storage of the cookie (like in node.js), use "),s("code",null,"json"),e(" mode. This will return the refresh token in the \u201Cnormal\u201D payload. The storage of these tokens are handled by the "),s("code",null,"storage"),e(" implementation.")]),s("p",null,[e("Defaults to "),s("code",null,"cookie"),e(" in browsers, "),s("code",null,"json"),e(" in node.js.")]),s("h5",{id:"options.refresh"},[e("options.refresh "),s("a",{class:"header-anchor",href:"#options.refresh"},"#")]),s("p",null,[e("See "),s("a",{href:"#refresh-auth-token"},"Refresh auth token"),e(".")]),s("h3",{id:"get-current-token"},[e("Get current token "),s("a",{class:"header-anchor",href:"#get-current-token"},"#")]),s("pre",null,[s("code",{class:"language-ts"},[s("span",{class:"hljs-keyword"},"const"),e(` token = directus.auth.token;
`)])]),s("h3",{id:"login"},[e("Login "),s("a",{class:"header-anchor",href:"#login"},"#")]),s("h4",{id:"with-credentials"},[e("With credentials "),s("a",{class:"header-anchor",href:"#with-credentials"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.auth.login({
	`),s("span",{class:"hljs-attr"},"email"),e(": "),s("span",{class:"hljs-string"},"'admin@example.com'"),e(`,
	`),s("span",{class:"hljs-attr"},"password"),e(": "),s("span",{class:"hljs-string"},"'d1r3ctu5'"),e(`,
});
`)])]),s("h4",{id:"with-static-tokens"},[e("With static tokens "),s("a",{class:"header-anchor",href:"#with-static-tokens"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.auth.static("),s("span",{class:"hljs-string"},"'static_token'"),e(`);
`)])]),s("h4",{id:"refresh-auth-token"},[e("Refresh auth token "),s("a",{class:"header-anchor",href:"#refresh-auth-token"},"#")]),s("p",null,"You can set authentication to auto-refresh the token once it\u2019s close to expire."),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.auth.login(
	{
		`),s("span",{class:"hljs-attr"},"email"),e(": "),s("span",{class:"hljs-string"},"'admin@example.com'"),e(`,
		`),s("span",{class:"hljs-attr"},"password"),e(": "),s("span",{class:"hljs-string"},"'d1r3ctu5'"),e(`,
	},
	{
		`),s("span",{class:"hljs-attr"},"refresh"),e(`: {
			`),s("span",{class:"hljs-attr"},"auto"),e(": "),s("span",{class:"hljs-literal"},"true"),e(`,
		},
	}
);
`)])]),s("p",null,"You can also set how much time before the expiration you want to auto-refresh the token. When not specified, 30 sec is the default time."),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.auth.login(
	{
		`),s("span",{class:"hljs-attr"},"email"),e(": "),s("span",{class:"hljs-string"},"'admin@example.com'"),e(`,
		`),s("span",{class:"hljs-attr"},"password"),e(": "),s("span",{class:"hljs-string"},"'d1r3ctu5'"),e(`,
	},
	{
		`),s("span",{class:"hljs-attr"},"refresh"),e(`: {
			`),s("span",{class:"hljs-attr"},"auto"),e(": "),s("span",{class:"hljs-literal"},"true"),e(`,
			`),s("span",{class:"hljs-attr"},"time"),e(": "),s("span",{class:"hljs-number"},"30000"),e(", "),s("span",{class:"hljs-comment"},"// refesh the token 30 secs before the expiration"),e(`
		},
	}
);
`)])]),s("h3",{id:"refresh-auth-token-2"},[e("Refresh Auth Token "),s("a",{class:"header-anchor",href:"#refresh-auth-token-2"},"#")]),s("p",null,"You can manually refresh the authentication token. This won\u2019t try to refresh the token if it\u2019s still valid in the eyes of the SDK."),s("p",null,"Also worth mentioning that any concurrent refreshes (trying to refresh while a there\u2019s an existing refresh running), will result in only a single refresh hitting the server, and promises resolving/rejecting with the result from the first call. This depends on the implementation of IAuth you\u2019re using."),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.auth.refresh();
`)])]),s("p",null,"You can force the refresh by passing true in the first parameter."),s("p",null,"An optional parameter will accept auto-refresh information."),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.auth.refresh("),s("span",{class:"hljs-literal"},"true"),e(`);
`)])]),s("p",null,[e("This function can either return the "),s("code",null,"AuthResult"),e(" in case a refresh was made, "),s("code",null,"false"),e(" in case SDK thinks it\u2019s not needed, or throw an error in case refresh fails.")]),s("h3",{id:"logout"},[e("Logout "),s("a",{class:"header-anchor",href:"#logout"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.auth.logout();
`)])]),s("h3",{id:"request-a-password-reset"},[e("Request a Password Reset "),s("a",{class:"header-anchor",href:"#request-a-password-reset"},"#")]),s("p",null,[e("By default, the address defined in "),s("code",null,"PUBLIC_URL"),e(" on "),s("code",null,".env"),e(" file is used for the link to the reset password page sent in the email:")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.auth.password.request("),s("span",{class:"hljs-string"},"'admin@example.com'"),e(`);
`)])]),s("p",null,"But a custom address can be passed as second argument:"),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.auth.password.request(
	`),s("span",{class:"hljs-string"},"'admin@example.com'"),e(`,
	`),s("span",{class:"hljs-string"},"'https://myapp.com'"),e(),s("span",{class:"hljs-comment"},"// In this case, the link will be https://myapp.com?token=FEE0A..."),e(`
);
`)])]),s("h3",{id:"reset-a-password"},[e("Reset a Password "),s("a",{class:"header-anchor",href:"#reset-a-password"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.auth.password.reset("),s("span",{class:"hljs-string"},"'abc.def.ghi'"),e(", "),s("span",{class:"hljs-string"},"'n3w-p455w0rd'"),e(`);
`)])]),s("p",null,[e("Note: The token passed in the first parameter is sent in an email to the user when using "),s("code",null,"request()")]),s("h2",{id:"transport-2"},[e("Transport "),s("a",{class:"header-anchor",href:"#transport-2"},"#")]),s("p",null,"The transport object abstracts how you communicate with Directus. Transports can be customized to use different HTTP libraries for example."),s("h3",{id:"interface"},[e("Interface "),s("a",{class:"header-anchor",href:"#interface"},"#")]),s("pre",null,[s("code",{class:"language-ts"},[s("span",{class:"hljs-comment"},"// Simplified version, `import { ITransport } from '@directus/sdk';`"),e(`
`),s("span",{class:"hljs-keyword"},"interface"),e(` ITransport {
	url;
	get(path);
	head(path);
	options(path);
	`),s("span",{class:"hljs-keyword"},"delete"),e("(path, data = "),s("span",{class:"hljs-literal"},"undefined"),e(`);
	post(path, data);
	put(path, data);
	patch(path, data);
}
`)])]),s("h3",{id:"axiostransport"},[e("AxiosTransport "),s("a",{class:"header-anchor",href:"#axiostransport"},"#")]),s("p",null,"The default transport used in both browser and node deployments. It supports auto refresh on request."),s("h4",{id:"options-2"},[e("Options "),s("a",{class:"header-anchor",href:"#options-2"},"#")]),s("p",null,"AxiosTransport requires a base URL and a storage implementation to work."),s("pre",null,[s("code",{class:"language-ts"},[s("span",{class:"hljs-keyword"},"const"),e(" transport = "),s("span",{class:"hljs-keyword"},"new"),e(" AxiosTransport("),s("span",{class:"hljs-string"},"'http://example.com'"),e(", "),s("span",{class:"hljs-keyword"},"new"),e(" MemoryStorage(), "),s("span",{class:"hljs-keyword"},"async"),e(` () => {
	`),s("span",{class:"hljs-keyword"},"await"),e(` sdk.auth.refresh();
});
`),s("span",{class:"hljs-keyword"},"await"),e(" transport.get("),s("span",{class:"hljs-string"},"'/server/info'"),e(`);
`)])]),s("h2",{id:"storage-2"},[e("Storage "),s("a",{class:"header-anchor",href:"#storage-2"},"#")]),s("p",null,"The storage is used to load and save SDK data."),s("h3",{id:"localstorage"},[e("LocalStorage "),s("a",{class:"header-anchor",href:"#localstorage"},"#")]),s("p",null,"The storage used in environments where Local Storage is supported."),s("h4",{id:"options-3"},[e("Options "),s("a",{class:"header-anchor",href:"#options-3"},"#")]),s("p",null,[e("The "),s("code",null,"LocalStorage"),e(" implementation accepts a "),s("em",null,"transparent"),e(" prefix. Use this when you need multiple SDK instances with independent authentication for example.")]),s("h3",{id:"memorystorage"},[e("MemoryStorage "),s("a",{class:"header-anchor",href:"#memorystorage"},"#")]),s("p",null,"The storage used when SDK data is ephemeral. For example: only during the lifecycle of the process."),s("h4",{id:"options-4"},[e("Options "),s("a",{class:"header-anchor",href:"#options-4"},"#")]),s("p",null,[e("The "),s("code",null,"MemoryStorage"),e(" implementation accepts a "),s("em",null,"transparent"),e(" prefix so you can have multiple instances of the SDK without having clashing keys.")]),s("h2",{id:"collections"},[e("Collections "),s("a",{class:"header-anchor",href:"#collections"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.collections;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_collections")'),e(".")]),s("h2",{id:"fields"},[e("Fields "),s("a",{class:"header-anchor",href:"#fields"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.fields;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_fields")'),e(".")]),s("h2",{id:"files"},[e("Files "),s("a",{class:"header-anchor",href:"#files"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.files;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_files")'),e(".")]),s("h2",{id:"folders"},[e("Folders "),s("a",{class:"header-anchor",href:"#folders"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.folders;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_folders")'),e(".")]),s("h2",{id:"permissions"},[e("Permissions "),s("a",{class:"header-anchor",href:"#permissions"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.permissions;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_permissions")'),e(".")]),s("h2",{id:"presets"},[e("Presets "),s("a",{class:"header-anchor",href:"#presets"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.presets;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_presets")'),e(".")]),s("h2",{id:"relations"},[e("Relations "),s("a",{class:"header-anchor",href:"#relations"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.relations;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_relations")'),e(".")]),s("h2",{id:"revisions"},[e("Revisions "),s("a",{class:"header-anchor",href:"#revisions"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.revisions;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_revisions")'),e(".")]),s("h2",{id:"roles"},[e("Roles "),s("a",{class:"header-anchor",href:"#roles"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.roles;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_roles")'),e(".")]),s("h2",{id:"settings"},[e("Settings "),s("a",{class:"header-anchor",href:"#settings"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.settings;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_settings")'),e(".")]),s("h2",{id:"server"},[e("Server "),s("a",{class:"header-anchor",href:"#server"},"#")]),s("h3",{id:"ping-the-server"},[e("Ping the Server "),s("a",{class:"header-anchor",href:"#ping-the-server"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.server.ping();
`)])]),s("h3",{id:"get-server%2Fproject-info"},[e("Get Server/Project Info "),s("a",{class:"header-anchor",href:"#get-server%2Fproject-info"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.server.info();
`)])]),s("h2",{id:"users"},[e("Users "),s("a",{class:"header-anchor",href:"#users"},"#")]),s("pre",null,[s("code",{class:"language-js"},`directus.users;
`)]),s("p",null,[e("Same methods as "),s("code",null,'directus.items("directus_users")'),e(", and:")]),s("h3",{id:"invite-a-new-user"},[e("Invite a New User "),s("a",{class:"header-anchor",href:"#invite-a-new-user"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.users.invites.send("),s("span",{class:"hljs-string"},"'admin@example.com'"),e(", "),s("span",{class:"hljs-string"},"'fe38136e-52f7-4622-8498-112b8a32a1e2'"),e(`);
`)])]),s("p",null,"The second parameter is the role of the user"),s("h3",{id:"accept-a-user-invite"},[e("Accept a User Invite "),s("a",{class:"header-anchor",href:"#accept-a-user-invite"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.users.invites.accept("),s("span",{class:"hljs-string"},"'<accept-token>'"),e(", "),s("span",{class:"hljs-string"},"'n3w-p455w0rd'"),e(`);
`)])]),s("p",null,"The provided token is sent to the user\u2019s email"),s("h3",{id:"enable-two-factor-authentication"},[e("Enable Two-Factor Authentication "),s("a",{class:"header-anchor",href:"#enable-two-factor-authentication"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.users.tfa.enable("),s("span",{class:"hljs-string"},"'my-password'"),e(`);
`)])]),s("h3",{id:"disable-two-factor-authentication"},[e("Disable Two-Factor Authentication "),s("a",{class:"header-anchor",href:"#disable-two-factor-authentication"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.users.tfa.disable("),s("span",{class:"hljs-string"},"'691402'"),e(`);
`)])]),s("h3",{id:"get-the-current-user"},[e("Get the Current User "),s("a",{class:"header-anchor",href:"#get-the-current-user"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.users.me.read();
`)])]),s("p",null,"Supports optional query:"),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.users.me.read({
	`),s("span",{class:"hljs-attr"},"fields"),e(": ["),s("span",{class:"hljs-string"},"'last_access'"),e(`],
});
`)])]),s("h3",{id:"update-the-current-users"},[e("Update the Current Users "),s("a",{class:"header-anchor",href:"#update-the-current-users"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.users.me.update({ "),s("span",{class:"hljs-attr"},"first_name"),e(": "),s("span",{class:"hljs-string"},"'Admin'"),e(` });
`)])]),s("p",null,"Supports optional query:"),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.users.me.update({ "),s("span",{class:"hljs-attr"},"first_name"),e(": "),s("span",{class:"hljs-string"},"'Admin'"),e(" }, { "),s("span",{class:"hljs-attr"},"fields"),e(": ["),s("span",{class:"hljs-string"},"'last_access'"),e(`] });
`)])]),s("h2",{id:"utils"},[e("Utils "),s("a",{class:"header-anchor",href:"#utils"},"#")]),s("h3",{id:"get-a-random-string"},[e("Get a Random String "),s("a",{class:"header-anchor",href:"#get-a-random-string"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(` directus.utils.random.string();
`)])]),s("p",null,[e("Supports an optional "),s("code",null,"length"),e(" (defaults to 32):")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.utils.random.string("),s("span",{class:"hljs-number"},"50"),e(`);
`)])]),s("h3",{id:"generate-a-hash-for-a-given-value"},[e("Generate a Hash for a Given Value "),s("a",{class:"header-anchor",href:"#generate-a-hash-for-a-given-value"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.utils.hash.generate("),s("span",{class:"hljs-string"},"'My String'"),e(`);
`)])]),s("h3",{id:"verify-if-a-hash-is-valid"},[e("Verify if a Hash is Valid "),s("a",{class:"header-anchor",href:"#verify-if-a-hash-is-valid"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.utils.hash.verify("),s("span",{class:"hljs-string"},"'My String'"),e(", "),s("span",{class:"hljs-string"},"'$argon2i$v=19$m=4096,t=3,p=1$A5uogJh'"),e(`);
`)])]),s("h3",{id:"sort-items-in-a-collection"},[e("Sort Items in a Collection "),s("a",{class:"header-anchor",href:"#sort-items-in-a-collection"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.utils.sort("),s("span",{class:"hljs-string"},"'articles'"),e(", "),s("span",{class:"hljs-number"},"15"),e(", "),s("span",{class:"hljs-number"},"42"),e(`);
`)])]),s("p",null,[e("This will move item "),s("code",null,"15"),e(" to the position of item "),s("code",null,"42"),e(", and move everything in between one \u201Cslot\u201D up.")]),s("h3",{id:"revert-to-a-previous-revision"},[e("Revert to a Previous Revision "),s("a",{class:"header-anchor",href:"#revert-to-a-previous-revision"},"#")]),s("pre",null,[s("code",{class:"language-js"},[s("span",{class:"hljs-keyword"},"await"),e(" directus.utils.revert("),s("span",{class:"hljs-number"},"451"),e(`);
`)])]),s("p",null,"Note: The key passed is the primary key of the revision you\u2019d like to apply."),s("hr"),s("h2",{id:"typescript"},[e("TypeScript "),s("a",{class:"header-anchor",href:"#typescript"},"#")]),s("p",null,[e("If you are using TypeScript, the JS-SDK requires TypeScript 3.8 or newer. TypeScript will also improve the development experience by providing relevant information when manipulating your data. For example, "),s("code",null,"directus.items"),e(" knows about your collection types if you feed the SDK with enough information in the construction of the SDK instance. This allows for a more detailed IDE suggestions for return types, sorting, and filtering.")]),s("pre",null,[s("code",{class:"language-ts"},[s("span",{class:"hljs-keyword"},"type"),e(` BlogPost = {
	`),s("span",{class:"hljs-attr"},"id"),e(`: ID;
	title: `),s("span",{class:"hljs-built_in"},"string"),e(`;
};

`),s("span",{class:"hljs-keyword"},"type"),e(` BlogSettings = {
	`),s("span",{class:"hljs-attr"},"display_promotions"),e(": "),s("span",{class:"hljs-built_in"},"boolean"),e(`;
};

`),s("span",{class:"hljs-keyword"},"type"),e(` MyCollections = {
	`),s("span",{class:"hljs-attr"},"posts"),e(`: BlogPost;
	settings: BlogSettings;
};

`),s("span",{class:"hljs-comment"},"// This is how you feed custom type information to Directus."),e(`
`),s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus<MyCollections>("),s("span",{class:"hljs-string"},"'http://url'"),e(`);

`),s("span",{class:"hljs-comment"},"// ..."),e(`

`),s("span",{class:"hljs-keyword"},"const"),e(" post = "),s("span",{class:"hljs-keyword"},"await"),e(" directus.items("),s("span",{class:"hljs-string"},"'posts'"),e(").readOne("),s("span",{class:"hljs-number"},"1"),e(`);
`),s("span",{class:"hljs-comment"},"// typeof(post) is a partial BlogPost object"),e(`

`),s("span",{class:"hljs-keyword"},"const"),e(" settings = "),s("span",{class:"hljs-keyword"},"await"),e(" posts.singleton("),s("span",{class:"hljs-string"},"'settings'"),e(`).read();
`),s("span",{class:"hljs-comment"},"// typeof(settings) is a partial BlogSettings object"),e(`
`)])]),s("p",null,"You can also extend the Directus system type information by providing type information for system collections as well."),s("pre",null,[s("code",{class:"language-ts"},[s("span",{class:"hljs-keyword"},"import"),e(" { Directus } "),s("span",{class:"hljs-keyword"},"from"),e(),s("span",{class:"hljs-string"},"'@directus/sdk'"),e(`;

`),s("span",{class:"hljs-comment"},"// Custom fields added to Directus user collection."),e(`
`),s("span",{class:"hljs-keyword"},"type"),e(` UserType = {
	`),s("span",{class:"hljs-attr"},"level"),e(": "),s("span",{class:"hljs-built_in"},"number"),e(`;
	experience: `),s("span",{class:"hljs-built_in"},"number"),e(`;
};

`),s("span",{class:"hljs-keyword"},"type"),e(` CustomTypes = {
	`),s("span",{class:"hljs-comment"},`/*
	This type will be merged with Directus user type.
	It's important that the naming matches a directus
	collection name exactly. Typos won't get caught here
	since SDK will assume it's a custom user collection.
	*/`),e(`
	`),s("span",{class:"hljs-attr"},"directus_users"),e(`: UserType;
};

`),s("span",{class:"hljs-keyword"},"const"),e(" directus = "),s("span",{class:"hljs-keyword"},"new"),e(" Directus<CustomTypes>("),s("span",{class:"hljs-string"},"'https://api.example.com'"),e(`);

`),s("span",{class:"hljs-keyword"},"await"),e(` directus.auth.login({
	`),s("span",{class:"hljs-attr"},"email"),e(": "),s("span",{class:"hljs-string"},"'admin@example.com'"),e(`,
	`),s("span",{class:"hljs-attr"},"password"),e(": "),s("span",{class:"hljs-string"},"'password'"),e(`,
});

`),s("span",{class:"hljs-keyword"},"const"),e(" me = "),s("span",{class:"hljs-keyword"},"await"),e(` directus.users.me.read();
`),s("span",{class:"hljs-comment"},"// typeof me = partial DirectusUser & UserType;"),e(`

`),s("span",{class:"hljs-comment"},"// OK"),e(`
me.level = `),s("span",{class:"hljs-number"},"42"),e(`;

`),s("span",{class:"hljs-comment"},'// Error TS2322: Type "string" is not assignable to type "number".'),e(`
me.experience = `),s("span",{class:"hljs-string"},"'high'"),e(`;
`)])])],-1),m={setup(h,{expose:n}){const a={title:"JavaScript SDK",modularExtension:!1};return n({frontmatter:a}),(p,d)=>{const t=l("DocsWrapper");return r(),o(t,{frontmatter:a},{default:c(()=>[i]),_:1})}}};export{m as default};
