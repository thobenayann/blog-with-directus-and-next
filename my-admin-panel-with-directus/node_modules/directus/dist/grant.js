"use strict";
/**
 * Grant is the oAuth library
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const env_1 = __importDefault(require("./env"));
const utils_1 = require("@directus/shared/utils");
const get_config_from_env_1 = require("./utils/get-config-from-env");
const enabledProviders = (0, utils_1.toArray)(env_1.default.OAUTH_PROVIDERS).map((provider) => provider.toLowerCase());
const config = {
    defaults: {
        origin: env_1.default.PUBLIC_URL,
        transport: 'session',
        prefix: '/auth/oauth',
        response: ['tokens', 'profile'],
    },
};
for (const provider of enabledProviders) {
    config[provider] = (0, get_config_from_env_1.getConfigFromEnv)(`OAUTH_${provider.toUpperCase()}_`, undefined, 'underscore');
}
exports.default = config;
